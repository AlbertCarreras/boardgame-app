<h1><%= @user.name %></h1>

<h3>My Boardgames</h3>
<ul>
  <% @user.ownerships.each do |ownership| %>
  <li>
    <%=  link_to ownership.game.title, ownership.game %>
    <% if same_user?(@user) %>
      <%= form_for ownership, method: 'delete' do |f| %>
      <%= f.hidden_field :ownership_id, value: ownership.id %>
      <%= f.submit "Remove" %>
      <% end %>
    <% end %>
  </li>
  <% end %>
</ul>

<!-- <% if same_user?(@user) %>
  <p>Add Boardgame</p>
  <%= form_for @ownership do |f| %>
  <%= f.collection_select :game_id, @games, :id, :title %>
  <%= f.submit "Add Game to Collection" %>
  <% end %>
<% end %> -->

<h3>Past Hosted Events</h3>
<ul>
  <% @user.hosted_events.each do |hosted_event| %>
    <% if hosted_event.date < Time.now %>
      <li>
        <%= link_to hosted_event.title, hosted_event %>
      </li>
    <% end %>
  <% end %>
</ul>

<h3>Upcoming Hosted Events</h3>
<ul>
  <% @user.hosted_events.each do |hosted_event| %>
    <% if hosted_event.date > Time.now %>
      <li>
        <%= link_to hosted_event.title, hosted_event %>
        <% if same_user?(@user) %>
          <%= form_for hosted_event, method: 'delete' do |f| %>
          <%= f.hidden_field :hosted_event_id, value: hosted_event.id %>
          <%= f.submit "Remove" %>
          <% end %>
        <% end %>
      </li>
    <% end %>
  <% end %>
</ul>
<h3>Registered to the Upcoming Events</h3>
<ul>
  <% @user.event_players.each do |event_player| %>
    <% if event_player.event.date > Time.now %>
      <li>
        <%= link_to event_player.event.title, event_player.event %>
        <% if same_user?(@user) %>
          <%= form_for event_player, method: 'delete' do |f| %>
          <%= f.hidden_field :event_player_id, value: event_player.id %>
          <%= f.submit "Unregister" %>
          <% end %>
        <% end %>
      </li>
    <% end %>
  <% end %>
</ul>
